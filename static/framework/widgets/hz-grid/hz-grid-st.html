<div class="contentMain">
  <hz-magic-search-context filter-facets="hzGridOptions.filterFacets">

    <table id="table-row"
           hz-table
           ng-cloak
           hopes-table-drag
           st-table="grid.rows"
           st-safe-src="grid.rows1"
           default-sort="name"
           default-sort-reverse="true"
           ng-init="userID = '{{ request.user.id }}'"
           disabled="disabled"
           st-magic-search
           class="table table-bordered table-hover"
    >
      <thead>

      <!--
        Table-batch-actions:
        This is where batch actions like searching, creating, and deleting.
      -->
      <tr>
        <th colspan="100" class="bare">
          <div class="table_actions clearfix">
            <span ng-transclude></span>
            <div class="fr search-bar">
              <hz-magic-search-bar id="search" eid="search">

              </hz-magic-search-bar>
            </div>
          </div>
        </th>
      </tr>
      <!--
        Table-column-headers:
        This is where we declaratively define the table column headers.
        Include the select all checkbox if you want to enable select all
        for performing batch actions.
      -->
      <tr eagle-eye="table_heads">
        <th class="select-col" eagle-eye="select_col">
          <input type="checkbox"
                 hz-select-page="instances-group"
                 ng-model="selectedAllInstance"
          />
          <!--ng-model="grid.selection.selectAll"-->
        </th>
        <th ng-repeat="col in hzGridOptions.columnDefs">
          <span st-sort="{$'entity.'+(col.field||col.name)$}" eagle-eye="data_col">{$ col.name $}</span>
        </th>

      </tr>
      </thead>

      <tbody>

      <tr ng-if="loading">
        <td colspan="100" class="Loading-bar">
          <img class="load-detail" src="/static/bootstrap/img/loading.gif" alt=""/>
        </td>
      </tr>

      <tr ng-if="hzGridOptions.totalItems == 0 && !loading" eagle-eye="empty_table">
        <td colspan="100">no data</td>
      </tr>

      <tr ng-repeat="row in grid.rows" ng-class="{'st-selected': hasSelected(row)}">

        <!--
          Table-row-checkbox:
          User can select and unselect this row by clicking on this checkbox.
          Batch actions can then be perform on selected rows.
        -->
        <td class="select-col" eagle-eye="select_col">
          <input type="checkbox"
            hz-select="row"
            ng-model="selected[row.id].checked"
            hz-checkbox-group="instances-group"/>
         <!-- <input type="checkbox"
                 hz-select="row"
                 ng-model="grid.rows[$index].isSelected"
                 hz-checkbox-group="instances-group"/>-->
        </td>



        <!--
          Table-row-expander:
          User can toggle visbility of the Detail-row by clicking on this icon.
          Duration attribute determines the animation time.
        -->
        <!--<td class="expander">
          <i class="fa fa-chevron-right" hz-expand-detail duration="200"></i>
        </td>-->

        <!-- Table-row-info-column -->
        <td eagle-eye="data_col" ng-repeat="col in hzGridOptions.columnDefs">
          <div ng-if="col.cellTemplate" compile="col.cellTemplate"></div>
          <span ng-if="!col.cellTemplate" title="{$ row[col.field||col.name] $}">{$ row[col.field||col.name] $}</span>
        </td>

      </tr>
      </tbody>
      <tfoot ng-if="hzGridOptions.data.length > 10">
      <tr>
        <td colspan="100" eagle-eye="data_page">
          <table-footer></table-footer>
        </td>
      </tr>
      </tfoot>
    </table>
  </hz-magic-search-context>
</div>
