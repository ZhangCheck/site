define(["require","./Base","../tool/util"],function(require){var Base=require("./Base"),Ellipse=function(options){Base.call(this,options)};Ellipse.prototype={type:"ellipse",buildPath:function(ctx,style){var k=.5522848,x=style.x,y=style.y,a=style.a,b=style.b,ox=a*k,oy=b*k;ctx.moveTo(x-a,y);ctx.bezierCurveTo(x-a,y-oy,x-ox,y-b,x,y-b);ctx.bezierCurveTo(x+ox,y-b,x+a,y-oy,x+a,y);ctx.bezierCurveTo(x+a,y+oy,x+ox,y+b,x,y+b);ctx.bezierCurveTo(x-ox,y+b,x-a,y+oy,x-a,y);ctx.closePath()},getRect:function(style){if(style.__rect)return style.__rect;var lineWidth;lineWidth="stroke"==style.brushType||"fill"==style.brushType?style.lineWidth||1:0;style.__rect={x:Math.round(style.x-style.a-lineWidth/2),y:Math.round(style.y-style.b-lineWidth/2),width:2*style.a+lineWidth,height:2*style.b+lineWidth};return style.__rect}};require("../tool/util").inherits(Ellipse,Base);return Ellipse});