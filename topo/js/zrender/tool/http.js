define(["require"],function(require){function get(url,onsuccess,onerror,opts){if("object"==typeof url){var obj=url;url=obj.url;onsuccess=obj.onsuccess;onerror=obj.onerror;opts=obj}else"object"==typeof onerror&&(opts=onerror);var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");xhr.open("GET",url,!0);xhr.onreadystatechange=function(){if(4==xhr.readyState){xhr.status>=200&&xhr.status<300||304===xhr.status?onsuccess&&onsuccess(xhr.responseText):onerror&&onerror();xhr.onreadystatechange=new Function;xhr=null}};xhr.send(null)}return{get:get}});