define(["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(require){function RibbonShape(options){Base.call(this,options);this._pathProxy=new PathProxy}var Base=require("zrender/shape/Base"),PathProxy=require("zrender/shape/util/PathProxy"),zrUtil=require("zrender/tool/util"),area=require("zrender/tool/area");RibbonShape.prototype={type:"ribbon",buildPath:function(ctx,style){var clockWise=style.clockWise||!1,path=this._pathProxy;path.begin(ctx);var cx=style.x,cy=style.y,r=style.r,s0=style.source0/180*Math.PI,s1=style.source1/180*Math.PI,t0=style.target0/180*Math.PI,t1=style.target1/180*Math.PI,sx0=cx+Math.cos(s0)*r,sy0=cy+Math.sin(s0)*r,sx1=cx+Math.cos(s1)*r,sy1=cy+Math.sin(s1)*r,tx0=cx+Math.cos(t0)*r,ty0=cy+Math.sin(t0)*r,tx1=cx+Math.cos(t1)*r,ty1=cy+Math.sin(t1)*r;path.moveTo(sx0,sy0);path.arc(cx,cy,style.r,s0,s1,!clockWise);path.bezierCurveTo(.7*(cx-sx1)+sx1,.7*(cy-sy1)+sy1,.7*(cx-tx0)+tx0,.7*(cy-ty0)+ty0,tx0,ty0);if(style.source0!==style.target0||style.source1!==style.target1){path.arc(cx,cy,style.r,t0,t1,!clockWise);path.bezierCurveTo(.7*(cx-tx1)+tx1,.7*(cy-ty1)+ty1,.7*(cx-sx0)+sx0,.7*(cy-sy0)+sy0,sx0,sy0)}},getRect:function(style){if(style.__rect)return style.__rect;this._pathProxy.isEmpty()||this.buildPath(null,style);return this._pathProxy.fastBoundingRect()},isCover:function(x,y){var rect=this.getRect(this.style);return x>=rect.x&&x<=rect.x+rect.width&&y>=rect.y&&y<=rect.y+rect.height?area.isInsidePath(this._pathProxy.pathCommands,0,"fill",x,y):void 0}};zrUtil.inherits(RibbonShape,Base);return RibbonShape});