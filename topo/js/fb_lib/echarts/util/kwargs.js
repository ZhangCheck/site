define([],function(){function kwargs(func,defaults){var removeComments=new RegExp("(\\/\\*[\\w\\'\\,\\(\\)\\s\\r\\n\\*]*\\*\\/)|(\\/\\/[\\w\\s\\'][^\\n\\r]*$)|(<![\\-\\-\\s\\w\\>\\/]*>)","gim"),removeWhitespc=new RegExp("\\s+","gim"),matchSignature=new RegExp("function.*?\\((.*?)\\)","i"),names=func.toString().replace(removeComments,"").replace(removeWhitespc,"").match(matchSignature)[1].split(",");defaults!==Object(defaults)&&(defaults={});return function(){var args=Array.prototype.slice.call(arguments),kwargs=args[args.length-1];kwargs&&kwargs.constructor===Object?args.pop():kwargs={};for(var i=0;i<names.length;i++){var name=names[i];name in kwargs?args[i]=kwargs[name]:name in defaults&&null==args[i]&&(args[i]=defaults[name])}return func.apply(this,args)}}return kwargs});